{"componentChunkName":"component---src-templates-blog-post-js","path":"/code-to-an-interface/","result":{"data":{"site":{"siteMetadata":{"title":"Personal Blog"}},"markdownRemark":{"id":"7b0fecfd-9e85-5105-8c00-bcf0a7cac5d4","excerpt":"Hello üëã  As you get more serious about programming, you inevitably encounter the phrase \"Code to an interface\", either in videos, books, or articles. And it‚Ä¶","html":"<h2 id=\"hello-\" style=\"position:relative;\"><a href=\"#hello-\" aria-label=\"hello  permalink\" class=\"anchor before\"><svg fill=\"#A855F7\" height=\"25px\" width=\"25px\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" \n              viewBox=\"0 0 490 490\" xml:space=\"preserve\">\n           <path d=\"M64.333,490h58.401l33.878-137.69h122.259L245.39,490h58.401l33.878-137.69h119.92v-48.162h-108.24l29.2-117.324h79.04\n             v-48.162H390.23L424.108,0H365.31l-33.878,138.661H208.79L242.668,0h-58.415l-33.864,138.661H32.411v48.162h106.298l-28.818,117.324\n             h-77.48v48.162h65.8L64.333,490z M197.11,186.824h122.642l-29.2,117.324H168.292L197.11,186.824z\"/>\n           </svg></a>Hello üëã</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7458090f2880f82f87ae5d428d775386/0f882/cover.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 25.316455696202528%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAA/ElEQVR42j2Q6W6DMBCEeYWWAE3bBAPhCkc5zI2TktBKef8HmmpXDT9sjXY9n0ej7UyBvOjxfXvAfHNRyRnq8gPdEKgbhUmt0E2BprtinO543R1RVhMu118YloMka7HcHnj/DNiv0VC4Cc5pA4J7p5w1LYOo3OZRXOGcShiWC8/PkWYtdMOG7STI8o7h1t6DRheZ6ZAmsx+WGKYVlVRI8w61VGj7BcN4xziv6IaFP3tCnt4t4VHECMKCYcJJWNPSPWXww4IfUyqCkKZ5GJVcy8GOEMbVBtUIQvHVfydFOWKa162rZ2+1nNEPC170A76Kgd8QME4k97n/8DnhH9vlkoDZl+EzAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"cover\"\n        title=\"cover\"\n        src=\"/static/7458090f2880f82f87ae5d428d775386/f058b/cover.png\"\n        srcset=\"/static/7458090f2880f82f87ae5d428d775386/c26ae/cover.png 158w,\n/static/7458090f2880f82f87ae5d428d775386/6bdcf/cover.png 315w,\n/static/7458090f2880f82f87ae5d428d775386/f058b/cover.png 630w,\n/static/7458090f2880f82f87ae5d428d775386/40601/cover.png 945w,\n/static/7458090f2880f82f87ae5d428d775386/78612/cover.png 1260w,\n/static/7458090f2880f82f87ae5d428d775386/0f882/cover.png 1584w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>As you get more serious about programming, you inevitably encounter the phrase \"Code to an interface\", either in videos, books, or articles. And it never made sense to me. I questioned the need to create an interface and then implement it. How do I determine when and where to use these interfaces? Whenever I watched a tutorial or read an article, they would explain what an interface is, \"It is a class without implementation\", and I am like \"Ehmm, thanks üòè\". I mean, I already knew that; what I really wanted to know was why and when to use it.</p>\n<p>I remember one day asking on the Discord community, and one of the seniors simply said, \"Don't worry; it will eventually click for you\", and it did, it took some time, but it did. If you're experiencing this, know that we've all been there, let's help you understand why you need to <strong>Code to an interface</strong>.</p>\n<h2 id=\"lets-write-some-code\" style=\"position:relative;\"><a href=\"#lets-write-some-code\" aria-label=\"lets write some code permalink\" class=\"anchor before\"><svg fill=\"#A855F7\" height=\"25px\" width=\"25px\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" \n              viewBox=\"0 0 490 490\" xml:space=\"preserve\">\n           <path d=\"M64.333,490h58.401l33.878-137.69h122.259L245.39,490h58.401l33.878-137.69h119.92v-48.162h-108.24l29.2-117.324h79.04\n             v-48.162H390.23L424.108,0H365.31l-33.878,138.661H208.79L242.668,0h-58.415l-33.864,138.661H32.411v48.162h106.298l-28.818,117.324\n             h-77.48v48.162h65.8L64.333,490z M197.11,186.824h122.642l-29.2,117.324H168.292L197.11,186.824z\"/>\n           </svg></a>Let's write some code</h2>\n<p>Since AI is taking over, and everyone is losing their shit about it, we don't want to be late to the party. We want to add it to our website, a small chatbot that answers questions about our product will do it.</p>\n<blockquote>\n<p>I will be using PHP for my example; feel free to use any language you are comfortable with. What matters is the concept.</p>\n</blockquote>\n<p>Our chatbot can be as simple as this</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name-definition class-name\">ChatBot</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function-definition function\">ask</span><span class=\"token punctuation\">(</span><span class=\"token keyword type-hint\">string</span> <span class=\"token variable\">$question</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token keyword return-type\">string</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token variable\">$client</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">OpenAi</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token variable\">$response</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$client</span><span class=\"token operator\">-></span><span class=\"token function\">ask</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$question</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n        <span class=\"token keyword\">return</span> <span class=\"token variable\">$response</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></span></code></pre></div>\n<p>There's a single method <code class=\"language-text\">ask()</code>, which uses the <code class=\"language-text\">OpenAI</code> <a href=\"https://en.wikipedia.org/wiki/Software_development_kit\">SDK</a> to connect to their API, pose a question, and then simply return the response.</p>\n<p>We can now start using our chatbot</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token variable\">$bot</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ChatBot</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token variable\">$response</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$bot</span><span class=\"token operator\">-></span><span class=\"token function\">ask</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'How much is product X'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// The product costs $200.</span></code></pre></div>\n<p>So far, the implementation looks good, it's functioning as expected and the project is deployed and in use. But, we cannot deny that our chatbot is heavily dependent on the Open AI API, I'm sure you agree.</p>\n<p>Now, let's consider a scenario where Open AI prices double, and continue to increase, what are our options? We either just accept our fate, or look for another API. The first option is easy, we just keep paying them, and the 2nd one is not as simple as it sounds. The new provider will likely have its own API and SDK, we will have to make updates to all classes, tests, and related components originally designed for Open AI, that's a lot of work.</p>\n<p>This also raises concerns, what if the new API doesn't meet our expectations in terms of accuracy or has increased downtime? What if we want to just experiment with different providers simultaneously? For example, providing our subscribed clients with the OpenAI client while using a simpler API for guests? You can see how this can be complex, and you know why? Because our code was poorly designed. We didn't have a vision; we just picked an API and were completely dependent on it and its implementation. Now, the principle of \"Code to interface\" would have saved us from all of this. How? Let's see.</p>\n<p>Let's start with creating an interface</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n\n<span class=\"token keyword\">interface</span> <span class=\"token class-name-definition class-name\">AIProvider</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function-definition function\">ask</span><span class=\"token punctuation\">(</span><span class=\"token keyword type-hint\">string</span> <span class=\"token variable\">$question</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token keyword return-type\">string</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></span></code></pre></div>\n<p>We have our interface, or as I like to call it, a contract. Let's implement it, or code to it.</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token php language-php\"><span class=\"token delimiter important\">&lt;?php</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name-definition class-name\">OpenAi</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">AIProvider</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function-definition function\">ask</span><span class=\"token punctuation\">(</span><span class=\"token keyword type-hint\">string</span> <span class=\"token variable\">$question</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token keyword return-type\">string</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token variable\">$openAiSdk</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">OpenAiSDK</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token variable\">$response</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$openAiSdk</span><span class=\"token operator\">-></span><span class=\"token function\">ask</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$question</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        \n        <span class=\"token keyword\">return</span> <span class=\"token string double-quoted-string\">\"Open AI says: \"</span> <span class=\"token operator\">.</span> <span class=\"token variable\">$response</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name-definition class-name\">RandomAi</span> <span class=\"token keyword\">implements</span> <span class=\"token class-name\">AIProvider</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function-definition function\">ask</span><span class=\"token punctuation\">(</span><span class=\"token keyword type-hint\">string</span> <span class=\"token variable\">$question</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token keyword return-type\">string</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token variable\">$randomAiSdk</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">RandomAiSDK</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token variable\">$response</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$randomAiSdk</span><span class=\"token operator\">-></span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$question</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        \n        <span class=\"token keyword\">return</span> <span class=\"token string double-quoted-string\">\"Random AI replies: \"</span> <span class=\"token operator\">.</span> <span class=\"token variable\">$response</span><span class=\"token operator\">-></span><span class=\"token function\">getResponse</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></span></code></pre></div>\n<blockquote>\n<p>In reality, both <code class=\"language-text\">OpenAiSDK</code> and <code class=\"language-text\">RandomAiSDK</code> will be injected through the constructor. This way we delegate the complex instantiation logic to a <a href=\"https://www.dotnettricks.com/learn/dependencyinjection/what-is-ioc-container-or-di-container\">DI container</a>, a concept known as <a href=\"https://en.wikipedia.org/wiki/Inversion_of_control\">inversion of control</a>. This is because each provider typically requires certain configurations.</p>\n</blockquote>\n<p>We now have two providers that we can use to answer questions. Regardless of their implementation, we are confident that when given a question, they will connect to their API and respond to it. They have to adhere to the <strong>contract</strong> <code class=\"language-text\">AIProvider</code>.</p>\n<p>Now, in our <code class=\"language-text\">ChatBot</code>, we can do the following</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token keyword\">class</span> <span class=\"token class-name-definition class-name\">ChatBot</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name type-declaration\">AIProvider</span> <span class=\"token variable\">$client</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// A dependency can be injected via the constructor</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function-definition function\">__construct</span><span class=\"token punctuation\">(</span><span class=\"token class-name type-declaration\">AIProvider</span> <span class=\"token variable\">$client</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token variable\">$this</span><span class=\"token operator\">-></span><span class=\"token property\">client</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$client</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token comment\">// It can also be set via a setter method</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function-definition function\">setClient</span><span class=\"token punctuation\">(</span><span class=\"token class-name type-declaration\">AIProvider</span> <span class=\"token variable\">$client</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token keyword return-type\">void</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token variable\">$this</span><span class=\"token operator\">-></span><span class=\"token property\">client</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$client</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">function</span> <span class=\"token function-definition function\">ask</span><span class=\"token punctuation\">(</span><span class=\"token keyword type-hint\">string</span> <span class=\"token variable\">$question</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> <span class=\"token keyword return-type\">string</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> <span class=\"token variable\">$this</span><span class=\"token operator\">-></span><span class=\"token property\">client</span><span class=\"token operator\">-></span><span class=\"token function\">ask</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$question</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>Note well that the example aims to demonstrate the multiple ways you can inject a dependency, in this case, an <code class=\"language-text\">AIProvider</code>. You are not <strong>required</strong> to use both constructors and setters.</p>\n</blockquote>\n<p>You can see we made some tweaks; we no longer depend on OpenAI, and you won't find any reference to it. Instead, we depend on the contract/interface. And, somehow, we can relate to this example in real life; we have all been a <code class=\"language-text\">ChatBot</code> at least once.</p>\n<p>Imagine purchasing a solar panel system. The company promises to send technicians to install it, assuring you that regardless of the employee they send, the job will be done, and you'll have your panels installed in the end. So, you don't really care whether they send Josh or George. They might be different, with one being better than the other, but both are contracted to install the panels. They won't be like, you know what I am repairing your TV instead, they are obligated by the company to do the specified job. Both <code class=\"language-text\">RandomAi</code> and <code class=\"language-text\">OpenAi</code> act as employees of <code class=\"language-text\">AIProvider</code>; you ask a question, and they will provide an answer. Just as you didn't care about who installs the panels, the <code class=\"language-text\">ChatBot</code> shouldn't care at all about who does the job. It just needs to know that any implementation provided will do it.</p>\n<p>Now, you can freely use one or another</p>\n<div class=\"gatsby-highlight\" data-language=\"php\"><pre class=\"language-php\"><code class=\"language-php\"><span class=\"token variable\">$bot</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ChatBot</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// For subscribed users</span>\n<span class=\"token variable\">$bot</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ChatBot</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">OpenAi</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$response</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$bot</span><span class=\"token operator\">-></span><span class=\"token function\">ask</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'How much is Product X'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Open AI says: 200$</span>\n\n<span class=\"token comment\">// For guests</span>\n<span class=\"token variable\">$bot</span><span class=\"token operator\">-></span><span class=\"token function\">setClient</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">RandomAi</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token variable\">$response</span> <span class=\"token operator\">=</span> <span class=\"token variable\">$bot</span><span class=\"token operator\">-></span><span class=\"token function\">ask</span><span class=\"token punctuation\">(</span><span class=\"token string single-quoted-string\">'How much is Product X'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Random AI replies: 200$</span></code></pre></div>\n<p>Now, you have the flexibility to change the entire API provider, and your code will always behave the same. You don't have to change anything about it because you <strong>coded to an interface</strong>, so none of the concerns we raised earlier will be an issue.</p>\n<h2 id=\"there-are-bonuses-always\" style=\"position:relative;\"><a href=\"#there-are-bonuses-always\" aria-label=\"there are bonuses always permalink\" class=\"anchor before\"><svg fill=\"#A855F7\" height=\"25px\" width=\"25px\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" \n              viewBox=\"0 0 490 490\" xml:space=\"preserve\">\n           <path d=\"M64.333,490h58.401l33.878-137.69h122.259L245.39,490h58.401l33.878-137.69h119.92v-48.162h-108.24l29.2-117.324h79.04\n             v-48.162H390.23L424.108,0H365.31l-33.878,138.661H208.79L242.668,0h-58.415l-33.864,138.661H32.411v48.162h106.298l-28.818,117.324\n             h-77.48v48.162h65.8L64.333,490z M197.11,186.824h122.642l-29.2,117.324H168.292L197.11,186.824z\"/>\n           </svg></a>There are bonuses, always</h2>\n<p>In our example, by coding to an interface, we have also respected three of the <a href=\"https://en.wikipedia.org/wiki/SOLID\">SOLID</a> principles, without even knowing we did, let me elaborate.</p>\n<blockquote>\n<p>I won't go into details; each of the principles can have a long article. This is just a brief explanation to show what we gained by coding to an interface.</p>\n</blockquote>\n<h3 id=\"open-closed-principle\" style=\"position:relative;\"><a href=\"#open-closed-principle\" aria-label=\"open closed principle permalink\" class=\"anchor before\"><svg fill=\"#A855F7\" height=\"25px\" width=\"25px\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" \n              viewBox=\"0 0 490 490\" xml:space=\"preserve\">\n           <path d=\"M64.333,490h58.401l33.878-137.69h122.259L245.39,490h58.401l33.878-137.69h119.92v-48.162h-108.24l29.2-117.324h79.04\n             v-48.162H390.23L424.108,0H365.31l-33.878,138.661H208.79L242.668,0h-58.415l-33.864,138.661H32.411v48.162h106.298l-28.818,117.324\n             h-77.48v48.162h65.8L64.333,490z M197.11,186.824h122.642l-29.2,117.324H168.292L197.11,186.824z\"/>\n           </svg></a>Open-Closed Principle</h3>\n<p>The first principle we respected is the Open-Closed Principle, which states that the code should be open for extension and closed for modification. As challenging as it may sound, you've achieved it. Think about it, the <code class=\"language-text\">ChatBot</code> is closed for modification now; we won't touch the code again. This was our goal from the beginning. But, it is open for extension; if we were to add a 3rd, 4th, or even a 5th provider, nothing is stopping us. We can implement the interface, and our class can use it out of the box, no changes are required.</p>\n<h3 id=\"liskov-substitution\" style=\"position:relative;\"><a href=\"#liskov-substitution\" aria-label=\"liskov substitution permalink\" class=\"anchor before\"><svg fill=\"#A855F7\" height=\"25px\" width=\"25px\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" \n              viewBox=\"0 0 490 490\" xml:space=\"preserve\">\n           <path d=\"M64.333,490h58.401l33.878-137.69h122.259L245.39,490h58.401l33.878-137.69h119.92v-48.162h-108.24l29.2-117.324h79.04\n             v-48.162H390.23L424.108,0H365.31l-33.878,138.661H208.79L242.668,0h-58.415l-33.864,138.661H32.411v48.162h106.298l-28.818,117.324\n             h-77.48v48.162h65.8L64.333,490z M197.11,186.824h122.642l-29.2,117.324H168.292L197.11,186.824z\"/>\n           </svg></a>Liskov Substitution</h3>\n<p>I won't bore you with its definition, but basically, it states that you can substitute classes with ALL their subclasses and vice versa. Technically, all of our AI providers <code class=\"language-text\">are-a</code> <code class=\"language-text\">AIProvider</code>, and their implementations can be swapped for one another, without affecting the correctness of <code class=\"language-text\">ChatBot</code>, the latter does not even know which provider it is using üòÇ, so yes, we respected Ms. Liskov.</p>\n<h3 id=\"dependency-inversion\" style=\"position:relative;\"><a href=\"#dependency-inversion\" aria-label=\"dependency inversion permalink\" class=\"anchor before\"><svg fill=\"#A855F7\" height=\"25px\" width=\"25px\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" \n              viewBox=\"0 0 490 490\" xml:space=\"preserve\">\n           <path d=\"M64.333,490h58.401l33.878-137.69h122.259L245.39,490h58.401l33.878-137.69h119.92v-48.162h-108.24l29.2-117.324h79.04\n             v-48.162H390.23L424.108,0H365.31l-33.878,138.661H208.79L242.668,0h-58.415l-33.864,138.661H32.411v48.162h106.298l-28.818,117.324\n             h-77.48v48.162h65.8L64.333,490z M197.11,186.824h122.642l-29.2,117.324H168.292L197.11,186.824z\"/>\n           </svg></a>Dependency Inversion</h3>\n<p>I must admit, this one could have its own article. But to put it simply, the principle states that you should depend on abstractions rather than concretes, which is exactly what we are doing. We are dependent on a provider, not a specific one like Open AI.</p>\n<p>Remember, all of this, is because we coded to an interface.</p>\n<h2 id=\"it-will-eventually-click-for-you\" style=\"position:relative;\"><a href=\"#it-will-eventually-click-for-you\" aria-label=\"it will eventually click for you permalink\" class=\"anchor before\"><svg fill=\"#A855F7\" height=\"25px\" width=\"25px\" version=\"1.1\" id=\"Capa_1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" \n              viewBox=\"0 0 490 490\" xml:space=\"preserve\">\n           <path d=\"M64.333,490h58.401l33.878-137.69h122.259L245.39,490h58.401l33.878-137.69h119.92v-48.162h-108.24l29.2-117.324h79.04\n             v-48.162H390.23L424.108,0H365.31l-33.878,138.661H208.79L242.668,0h-58.415l-33.864,138.661H32.411v48.162h106.298l-28.818,117.324\n             h-77.48v48.162h65.8L64.333,490z M197.11,186.824h122.642l-29.2,117.324H168.292L197.11,186.824z\"/>\n           </svg></a>It will eventually click for you</h2>\n<p>Whenever you update a class that you know you shouldn't update, and your code is getting hacky with if statements, you need an interface. Always ask yourself, does this class really need to know the how? Will I forever use this service provider? or database driver? If not, you know what to do.</p>\n<p>With that being said, just give it some time, <strong>it will eventually click for you</strong>.</p>","frontmatter":{"title":"Code to an interface!","date":"February 04, 2024","description":"How often have you heard \"Code to an interface\"? I'm sure, at least a few times, and I know it can be hard to understand at first. I've been there, so let's see what it means."}},"previous":{"fields":{"slug":"/laravel-eager-loading-is-bad/"},"frontmatter":{"title":"Laravel - Eager loading can be bad!"}},"next":{"fields":{"slug":"/laravel-zero-tcp-server/"},"frontmatter":{"title":"Laravel Zero - Let's build a TCP server"}}},"pageContext":{"id":"7b0fecfd-9e85-5105-8c00-bcf0a7cac5d4","previousPostId":"cec3cf7f-42ee-5490-a278-ff640bc654a6","nextPostId":"9ec0ecb5-2385-5adf-8653-d417a478ef04"}},"staticQueryHashes":["2841359383","494442451"],"slicesMap":{}}